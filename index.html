<!DOCTYPE html>
<html>
<head>
    <title>QR Generator - by Md Mijanur Rahaman</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="style.css">
    <script src="VanillaQR.js"></script>
</head>
<body>



<div class="container">
    <h1 title="QR Code Generator only for url">QR Code Generator</h1>
    <div class="inputer">
        <input class="inputurl" id="qrUrl" type="text" value="https://facebook.com/mdmijanurrahaman.mr" placeholder="URL/link">
        <input type="color"  id="color1"><input type="color" id="color2">
</div>

<div class="div">
       
<div class="mydiv">
    <p>Ecclevel
        <select id="ecclevel">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </p>
    <button onclick="createQR();">Create QR</button>
</div>
<div class="mydiv">
    Type : <select id="imageTypeSelector"></select> <button  id="canvasImageSave">Export</button>
    <a href="#" class="button" id="btn-download">Download</a>

    <!-- onclick="exportImage()" -->
</div>
</div>
    <!-- <div class="credit">Created by <a href="https://www.facebook.com/mdmijanurrahaman.mr">Md Mijanur Rahaman</a>. Powerd by <a href="https://www.mrlaboratory.com">MR Laboratory</a>.</div> -->

</div>
    



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <script>
    window.onload = function() {
        setupImageTypes();
        $("#color1").val("#ffffff");
        $("#color2").val("#000000");
    }

    var qr = new VanillaQR({
        url: "https://facebook.com/mdmijanurrahaman.mr",
        size: 400,
        colorLight: "white",
        colorDark: "black"
    });
    document.body.appendChild(qr.domElement);

    //Create qr controllers
    var ecclevel = document.getElementById("ecclevel");
    var imageTypeSelector = document.getElementById("imageTypeSelector");


    var _0x3dd2=['colorLight','url','397NAYjBF','617dNCfGU','153190JSCDey','value','419jVcGcj','#color2','29743EgsBJH','29onwqbb','61CyTiMt','ecclevel','1785XXHTiC','56404mEdwBl','151270WYsGrf','https://www.mrlaboratory.info/p/redirect.html?url=','6zUWhvD'];(function(_0x468f39,_0x12f28f){var _0x3abcf3=_0x51d0;while(!![]){try{var _0xc2029b=parseInt(_0x3abcf3(0x1a4))+-parseInt(_0x3abcf3(0x1a3))+-parseInt(_0x3abcf3(0x1ad))*-parseInt(_0x3abcf3(0x1a9))+parseInt(_0x3abcf3(0x1ab))+parseInt(_0x3abcf3(0x1a6))*-parseInt(_0x3abcf3(0x1af))+parseInt(_0x3abcf3(0x1b1))*-parseInt(_0x3abcf3(0x1a2))+parseInt(_0x3abcf3(0x1b0))*-parseInt(_0x3abcf3(0x1aa));if(_0xc2029b===_0x12f28f)break;else _0x468f39['push'](_0x468f39['shift']());}catch(_0x5aa58c){_0x468f39['push'](_0x468f39['shift']());}}}(_0x3dd2,0x1aa6b));function _0x51d0(_0x55f4fe,_0x40d253){_0x55f4fe=_0x55f4fe-0x1a1;var _0x3dd2c2=_0x3dd2[_0x55f4fe];return _0x3dd2c2;}function createQR(){var _0x3fa42c=_0x51d0,_0x5c1cdb=_0x3fa42c(0x1a5)+qrUrl['value']+'/?ref=https://www.mrlaboratory.info/';qr[_0x3fa42c(0x1a8)]=_0x5c1cdb,qr[_0x3fa42c(0x1a7)]=$('#color1')['val'](),qr['colorDark']=$(_0x3fa42c(0x1ae))['val'](),qr[_0x3fa42c(0x1a1)]=ecclevel[_0x3fa42c(0x1ac)],qr['init']();}

    function setupImageTypes() {

        var optionTag = document.createElement("option");
        for( var type in qr.imageTypes) {

            var typeOption = optionTag.cloneNode();

            typeOption.value = type;
            typeOption.innerHTML = type;

            imageTypeSelector.appendChild(typeOption);
        }

    }
    function exportImage() {

        // var imageType = imageTypeSelector.options[ imageTypeSelector.selectedIndex ].value;
        // var image = qr.toImage(imageType);

        // window.open(image.src);
        const canvas = $("canvas");
    var dataURL = canvas.toDataURL('image/png');
    button.href = dataURL;

}








    </script>
</body>
</html>
